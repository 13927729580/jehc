/**var store;
var grid;
Ext.onReady(function(){
	store = getGridJsonStore('../xtCompanyController/getXtCompanyListByCondition',[]);
	grid = Ext.create('Ext.grid.Panel',{
		region:'center',
		xtype:'panel',
		store:store,
		title:'信息列表',
		style:'margin-left:auto;margin-right:auto',
		columnLines:true,
		selType:'cellmodel',
		multiSelect:true,
		collapsible:true,
		border:true,
		selType:'checkboxmodel',
		viewConfig:{
			emptyText:'暂无数据',
			stripeRows:true
		},
		loadMask:{
			msg:'正在加载...'
		},
		columns:[
			{
				header:'序号',
				width:77,
				xtype:'rownumberer'
			},
			{
				header:'公司名称',
				flex:1,
				dataIndex:'xt_company_name'
			},
			{
				header:'公司电话',
				dataIndex:'xt_company_tel'
			},
			{
				header:'公司简介',
				dataIndex:'xt_company_remark'
			},
			{
				header:'公司联系人',
				dataIndex:'xt_company_userName'
			},
			{
				header:'公司地址',
				flex:1,
				dataIndex:'xt_company_address'
			},
			{
				header:'公司性质',
				dataIndex:'xt_company_type'
			},
			{
				header:'公司成立时间',
				dataIndex:'xt_company_upTime'
			},
			{
				header:'公司总体负责人',
				dataIndex:'xt_company_ceo'
			}
		],
		tbar:[
			 {
				text:'添加',
				scope:this,
				glyph:0xf016,
				handler:function(){
					addXtCompany();
				}
			 },
			 {
				text:'编辑',
				scope:this,
				glyph:0xf044,
				handler:function(){
					updateXtCompany();
				}
			 },
			 {
				text:'删除',
				scope:this,
				glyph:0xf014,
				handler:function(){
					delXtCompany();
				}
			 },
			 {
				text:'刷新',
				scope:this,
				glyph:0xf021,
				handler:function(){
					grid.getStore().reload();
				}
			 }
		],
		bbar:getGridBBar(store)
	});
	Ext.create('Ext.Viewport',{
		layout:'fit',
		xtype:'viewport',
		items:grid
	});
	function delXtCompany(){
		var model = grid.getSelectionModel();
		if(model.selected.length == 0){
			msgTishi('请选择后在删除');
			return;
		}
		var rowData = model.selected.items[0].data;
		Ext.Msg.confirm('提示','确定删除该行数据？',function(btn){
			if(btn == 'yes'){
				var xt_company_id = rowData.xt_company_id;
				var params = {xt_company_id:xt_company_id};
				ajaxRequest('../xtCompanyController/delXtCompany',grid,params,'正在执行删除操作中！请稍后...');
			}
		});
	}
});
**/
Ext.onReady(function(){
	reGetWidthAndHeight();
	var xtCompanyFormEdit = Ext.create('Ext.FormPanel',{
		xtype:'form',
		region:'center',
		defaultType:'textfield',
		autoScroll:true,
		/**
		title:'宏舜信息电子商务平台公司信息',
		titleAlign:'center',
		**/
		fieldDefaults:{
	        labelWidth:70,
	        labelAlign:"left",
	        flex:1,
	        margin:'4 5 4 5'
	    },
		items:[
		{
			fieldLabel:'公司ID',
			xtype:'textfield',
			hidden:true,
			name:'xt_company_id',
			allowBlank:true,
			maxLength:32,
			anchor:'100%'
		},
		{
			fieldLabel:'公司名称',
			xtype:'textfield',
			name:'xt_company_name',
			allowBlank:false,
			maxLength:50,
			anchor:'20%'
		},
		{
			fieldLabel:'公司电话',
			xtype:'textfield',
			name:'xt_company_tel',
			maxLength:20,
			anchor:'20%'
		},
		{
			fieldLabel:'联&nbsp;系&nbsp;&nbsp;人',
			xtype:'textfield',
			name:'xt_company_userName',
			maxLength:20,
			anchor:'20%'
		},
		{
			fieldLabel:'公司性质',
			xtype:'textfield',
			name:'xt_company_type',
			maxLength:20,
			anchor:'20%'
		},
		{
			fieldLabel:'成立时间',
			xtype:'datefield',
			format:'Y-m-d',
			name:'xt_company_upTime',
			maxLength:20,
			anchor:'20%'
		},
		{
			fieldLabel:'总负责人',
			xtype:'textfield',
			name:'xt_company_ceo',
			maxLength:20,
			anchor:'20%'
		},
		{
			fieldLabel:'公司地址',
			xtype:'textfield',
			name:'xt_company_address',
			maxLength:200,
			anchor:'40%'
		},
		{
			fieldLabel:'公司简介',
			xtype:'textarea',
			name:'xt_company_remark',
			maxLength:500,
			anchor:'100%'
		}],
		buttonAlign:'center',
		buttons:[{
			text:'保 存',
			itemId:'save',
			handler:function(button){
				submitFormCallBack(xtCompanyFormEdit,'../xtCompanyController/addOrUpdateXtCompany',null,null,false,true,true,'../xtCompanyController/getXtCompany',xtCompanyFormEdit);
			}
		},{
			text:'删除公司信息',
			itemId:'close',
			handler:function(button){
				Ext.Msg.confirm('提示','确定删除该公司信息？',function(btn){
					if(btn == 'yes'){
						submitFormCallBack(xtCompanyFormEdit,'../xtCompanyController/delXtCompany',null,null,false,true,true,'../xtCompanyController/getXtCompany',xtCompanyFormEdit);
					}
				});
			}
		}]
	});
	loadFormData(xtCompanyFormEdit,'../xtCompanyController/getXtCompany');
	/**
	var xtCompanyWin = Ext.create('Ext.Window',{
		layout:'border',
		plain:true,
		modal:true,
		draggable:false,
		resizable:false,
		closable:false,
		title:'公司信息',
		items:xtCompanyFormEdit,
		buttonAlign:'center',
		buttons:[{
			text:'保 存',
			itemId:'save',
			handler:function(button){
				submitForm(xtCompanyFormEdit,'../xtCompanyController/addOrUpdateXtCompany',null,null,false,true,true,'../xtCompanyController/getXtCompany',xtCompanyFormEdit);
			}
		},{
			text:'删除公司信息',
			itemId:'close',
			handler:function(button){
				Ext.Msg.confirm('提示','确定删除该公司信息？',function(btn){
					if(btn == 'yes'){
						submitForm(xtCompanyFormEdit,'../xtCompanyController/delXtCompany',null,null,false,true,true,'../xtCompanyController/getXtCompany',xtCompanyFormEdit);
					}
				});
			}
		}]
	});
	xtCompanyWin.show();
	xtCompanyWin.maximize();
	**/
	Ext.create('Ext.Viewport',{
		layout:'fit',
		xtype:'viewport',
		items:xtCompanyFormEdit
	});
});
